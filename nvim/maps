"vim:syntax=vim

set backspace=indent,eol,start

" To screw myself up
nmap <up> <nop>
nmap <down> <nop>
nmap <left> <nop>
nmap <right> <nop>

map <C-j> 10j
map <C-k> 10k

nmap <CR> :nohlsearch<CR>
nmap ,, :nohlsearch<CR>

" paste replacing current word"
nmap <silent> cp "_cw<C-R>"<Esc>

" Insert a hash rocket with <c-l>
imap <c-l> <space>=><space>

" To be more natural
"nnoremap j gj
"nnoremap k gk

" nerdTree
map <C-n> :NERDTreeToggle<CR>
map <C-h> :NERDTreeFind<CR>

" Relative number
nnoremap <C-b> :call NumberToggle()<cr>

" Tab to navigate over tabs
map <Tab> <C-W>w

"fzf
map <C-p> :Files<CR>
map <C-l> :buffers<CR> map <C-o> :Tags<CR>

"To add comments
map ,c :Commentary<CR>

" Save
map ,w :w<CR>

"to replace line with yank
map D "_ddkp"

"to close buffer
map ,q :Bclose<cr>

"to move buffers
map zl :bn<CR>
map zh :bp<CR>

"maximize buffers
map zN <C-W>\|
map zn <C-W>=

"Switch to test files
nmap ,tt :call SwitchRspecOrRuby('', '')<CR>
nmap ,ts :call SwitchRspecOrRuby(":vsp \| ", '')<CR>

"Run rspec:

let test#strategy = 'neovim'
"let test#ruby#rspec#executable = 'bundle exec spring rspec'
nmap ,cr :call CreateRspecFromCurrentFile()<CR>
nmap ,r :TestNearest<CR>
nmap ,a :TestFile<CR>
nmap ,e :TestLast<CR>
nmap ,tr :call RunRspecForRubyFile()<CR>
nmap ,l :call SpringToggle()<CR>

"Search all occurrences
nnoremap <silent> ,ag :Ag <C-R><C-W><CR>

"beutify JSON
map ,bj :<,'>!python -m json.tool<CR>

:set colorcolumn=100

map zp :vsp \| :find ~/Dropbox/Public/TODO<CR><C-W>r:vertical resize -60<CR><C-W>w

nnoremap Q <nop>
nnoremap K <nop>

" neomake
nmap ,nw :lopen<CR>      " open location window

" For global replace
nnoremap gR gD:%s/<C-R>///gc<left><left><left>

" multi cursor
let g:multi_cursor_use_default_mapping=0

let g:multi_cursor_next_key='<C-n>'
let g:multi_cursor_prev_key='<C-P>'
let g:multi_cursor_skip_key='<C-X>'
let g:multi_cursor_quit_key='<Esc>'
let g:multi_cursor_start_key=',R'
